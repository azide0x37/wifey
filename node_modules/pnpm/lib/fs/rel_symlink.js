var symlink = require('./force_symlink');
var dirname = require('path').dirname;
var relative = require('path').relative;

/*
 * Relative symlink
 */

module.exports = function relSymlink(src, dest) {
  // Turn it into a relative path when not in win32.
  var isWindows = process.platform === 'win32';
  var rel = isWindows ? src : relative(dirname(dest), src);

  return symlink(rel, dest, 'junction');
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYn4vZnMvcmVsX3N5bWxpbmsuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxVQUFVLFFBQVEsaUJBQVIsQ0FBZDtBQUNBLElBQUksVUFBVSxRQUFRLE1BQVIsRUFBZ0IsT0FBOUI7QUFDQSxJQUFJLFdBQVcsUUFBUSxNQUFSLEVBQWdCLFFBQS9COzs7Ozs7QUFNQSxPQUFPLE9BQVAsR0FBaUIsU0FBUyxVQUFULENBQXFCLEdBQXJCLEVBQTBCLElBQTFCLEVBQWdDOztBQUUvQyxNQUFJLFlBQVksUUFBUSxRQUFSLEtBQXFCLE9BQXJDO0FBQ0EsTUFBSSxNQUFNLFlBQVksR0FBWixHQUFrQixTQUFTLFFBQVEsSUFBUixDQUFULEVBQXdCLEdBQXhCLENBQTVCOztBQUVBLFNBQU8sUUFBUSxHQUFSLEVBQWEsSUFBYixFQUFtQixVQUFuQixDQUFQO0FBQ0QsQ0FORCIsImZpbGUiOiJyZWxfc3ltbGluay5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBzeW1saW5rID0gcmVxdWlyZSgnLi9mb3JjZV9zeW1saW5rJylcbnZhciBkaXJuYW1lID0gcmVxdWlyZSgncGF0aCcpLmRpcm5hbWVcbnZhciByZWxhdGl2ZSA9IHJlcXVpcmUoJ3BhdGgnKS5yZWxhdGl2ZVxuXG4vKlxuICogUmVsYXRpdmUgc3ltbGlua1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVsU3ltbGluayAoc3JjLCBkZXN0KSB7XG4gIC8vIFR1cm4gaXQgaW50byBhIHJlbGF0aXZlIHBhdGggd2hlbiBub3QgaW4gd2luMzIuXG4gIHZhciBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInXG4gIHZhciByZWwgPSBpc1dpbmRvd3MgPyBzcmMgOiByZWxhdGl2ZShkaXJuYW1lKGRlc3QpLCBzcmMpXG5cbiAgcmV0dXJuIHN5bWxpbmsocmVsLCBkZXN0LCAnanVuY3Rpb24nKVxufVxuIl19