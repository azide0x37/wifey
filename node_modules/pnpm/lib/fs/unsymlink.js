var fs = require('mz/fs');

/*
 * Removes a symlink
 */

module.exports = function unsymlink(path) {
  return fs.lstat(path).then(function (stat) {
    if (stat.isSymbolicLink()) return fs.unlink(path);
    throw new Error('Can\'t unlink ' + path);
  }).catch(function (err) {
    if (err.code !== 'ENOENT') throw err;
  });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYn4vZnMvdW5zeW1saW5rLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUksS0FBSyxRQUFRLE9BQVIsQ0FBVDs7Ozs7O0FBTUEsT0FBTyxPQUFQLEdBQWlCLFNBQVMsU0FBVCxDQUFvQixJQUFwQixFQUEwQjtBQUN6QyxTQUFPLEdBQUcsS0FBSCxDQUFTLElBQVQsRUFDTixJQURNLENBQ0QsZ0JBQVE7QUFDWixRQUFJLEtBQUssY0FBTCxFQUFKLEVBQTJCLE9BQU8sR0FBRyxNQUFILENBQVUsSUFBVixDQUFQO0FBQzNCLFVBQU0sSUFBSSxLQUFKLENBQVUsbUJBQW1CLElBQTdCLENBQU47QUFDRCxHQUpNLEVBS04sS0FMTSxDQUtBLGVBQU87QUFDWixRQUFJLElBQUksSUFBSixLQUFhLFFBQWpCLEVBQTJCLE1BQU0sR0FBTjtBQUM1QixHQVBNLENBQVA7QUFRRCxDQVREIiwiZmlsZSI6InVuc3ltbGluay5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBmcyA9IHJlcXVpcmUoJ216L2ZzJylcblxuLypcbiAqIFJlbW92ZXMgYSBzeW1saW5rXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB1bnN5bWxpbmsgKHBhdGgpIHtcbiAgcmV0dXJuIGZzLmxzdGF0KHBhdGgpXG4gIC50aGVuKHN0YXQgPT4ge1xuICAgIGlmIChzdGF0LmlzU3ltYm9saWNMaW5rKCkpIHJldHVybiBmcy51bmxpbmsocGF0aClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgdW5saW5rICcgKyBwYXRoKVxuICB9KVxuICAuY2F0Y2goZXJyID0+IHtcbiAgICBpZiAoZXJyLmNvZGUgIT09ICdFTk9FTlQnKSB0aHJvdyBlcnJcbiAgfSlcbn1cbiJdfQ==